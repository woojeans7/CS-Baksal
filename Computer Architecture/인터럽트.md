# 인터럽트(Interrupt)
> CPU의 작업을 방해하는 신호

인터럽트는 영어로 interrupt, '방해하다', '중단시키다'라는 뜻

CPU의 작업을 중단할만큼 '꼭 주목해야 할 때', '얼른 처리해야 할 다른 작업이 생겼을 때' 발생

인터럽트의 종류는 동기 인터럽트(예외), 비동기 인터럽트(하드웨어 인터럽트)로 나뉜다.

### 예외 (동기 인터럽트)
동기 인터럽트(Synchronous Interrupt)는 CPU에 의해서 발생함.
- 예상치 못한 상황에 마주칠 경우
- 프로그래밍상의 오류와 같은 예외적인 상황에 마주쳤을 경우
  **예외(Execption)** 라고 부름

예외가 발생하면 CPU는 하던 일을 중단하고 해당 예외를 처리함.

예외의 종류에는 폴트, 트랩, 중단, 소프트웨어 인터럽트가 있다.
- 폴트(fault): 예외를 처리한 직후 예외가 발생한 명령어부터 실행을 재개하는 예외
- 트랩(Trap): 예외를 처리한 직후 예외가 발생한 명령어의 다음 명령어부터 실행을 재개하는 예외, 디버깅에 사용
- 중단(Abort): CPU가 실행 중인 프로그램을 강제로 중단시킬 수밖에 없는 심각한 오류를 발견했을 때 발생하는 예외
- 소프트웨어 인터럽트(Software Interrupt): 시스템 호출이 발생했을 때 나타남.


### 하드웨어 인터럽트 (비동기 인터럽트)
비동기 인터럽트(Asynchronous Interrupt)는 주로 입출력장치(I/O)에 의해 발생함.
보통 알림 역할로 사용
- 세탁기 완료 알림
- 전자레인지 조리 완료 알림
- 마우스 입력을 CPU에 전달
  **하드웨어 인터럽트** 라고 부름

CPU는 입출력 작업 도중에도 **효율적으로 명령어를 처리하기 위해** 이런 알림과 같은 하드웨어 인터럽트를 사용함.
만약 이 인터럽트가 없다면 CPU는 프린트 완료 여부를 확인하기 위해 주기적으로 확인해야 함.

##### 하드웨어 인터럽트 처리 순서
1. I/O는 CPU에 **인터럽트 요청 신호**를 보냄
2. CPU는 실행 사이클이 끝나고 명령어를 인출하기 전 항상 인터럽트 여부를 확인
3. CPU는 인터럽트 요청을 확인하고 **인터럽트 플래그**를 통해 현재 인터럽트를 받아들일 수 있는지 여부 확인
4. 인터럽트를 받아들일 수 있다면 지금까지의 작업을 백업
5. CPU는 **인터럽트 벡터**를 참조하여 **인터럽트 서비스 루틴**을 실행
6. 인터럽트 서비스 루틴이 끝나면 백업해 둔 작업을 복구하여 실행 재개

- 인터럽트 요청 신호: CPU의 작업(흐름)을 방해하는 인터럽트에 대한 요청
- 인터럽트 플래그: 인터럽트 요청을 받아들일지, 무시할지 결정하는 플래그(비트)
- 인터럽트 서비스 루틴(ISR): 인터럽트를 처리하기 위한 프로그램 = 인터럽트 핸들러(Interrupt Handler), 어떻게 인터럽트를 처리하고 작동할지에 대한 정보로 이루어짐
- 인터럽트 벡터: 인터럽트 서비스 루틴을 식별하기 위한 정보