# IP와 Port

IP는 네트워크 상에서 장치를 식별하는 주소이고, Port는 해당 장치 내의 특정 프로세스를 구분하는 논리적 번호다.

~~우리가 흔히 쓰는 IP 주소의 그 IP가 맞다.~~

## IP (Internet Protocol)

IP는 인터넷을 하기 위한 통신 규약을 의미한다.

우리가 인터넷 망에서 해외에 있는 친구한테 "Hello"를 보낸다고 가정했을 때 어디로 보내야 하는지, 각 패킷이 어떻게 전달되어야 하는지를 정해주는 최소한의 규칙이 바로 **인터넷 프로토콜(IP)** 이다.

### 인터넷 프로토콜의 역할

- 지정한 IP 주소(IP Address)에 데이터 전달
- 패킷(Packet)이라는 통신 단위로 데이터 전달

<br>

## IP 주소 (Internet Protocol Address)

IP 주소는 네트워크 상에서 장치(Host)를 식별하기 위한 고유 주소를 의미한다.
인터넷에서 통신하기 위해 사용하는 주소이다.

### IPv4 & IPv6

IP 뒤에 오는 v는 버전(Version)을 의미한다.
즉, IPv4는 4번째, IPv6는 6번째를 의미함.

#### IPv4

- IPv4는 현재까지 가장 널리 사용되고 있는 인터넷 주소 체계이다.
- 32비트 크기의 주소로 이루어져 있으며, 최대 약 43억 개의 주소를 제공한다.
- 예시) `172.16.40.7`

#### IPv6

- IPv4의 주소 부족 문제를 해결하기 위해 만들어진 차세대 주소 체계이다.
- 128비트 주소 체계를 사용하기 때문에 사실상 무한에 가까운 주소를 제공할 수 있다.
- 예시) `2001:db8:85a3::8a2e:370:7334`

<br>

## IP의 한계

1. 비연결성

   - 패킷을 받을 대상이 없거나 서비스 불능 상태여도 패킷 전송

2. 비신뢰성

   - 중간에 패킷이 사라지면?
   - 패킷이 순서대로 안오면?
   - 정확하게 전달되는 지 여부에 대해 책임지지 않음

3. 프로그램 구분
   - 같은 IP를 사용하는 서버에서 통신하는 애플리케이션이 둘 이상이면?
   - 그래서 **Port**를 이용해서 구분한다.

IP의 비연결성, 비신뢰성 문제를 해결해주는 것이 바로 [TCP와 UDP](TCP와%20UDP.md)이다.

<br>

## Port

포트(Port)는 네트워크 통신에서 프로세스를 구분하기 위한 논리적인 번호를 의미한다.
영어로 항구라는 뜻으로 실제 항구처럼 데이터가 컴퓨터로 들어오고 나가는 통로 역할을 한다.

### 포트 번호가 필요한 이유

IP 주소만으로는 어떤 컴퓨터인지는 식별할 수 있지만, 그 컴퓨터의 어떤 프로그램인지 식별하지 못하기 때문에 포트 번호를 통해서 특정 애플리케이션을 구분한다.

### 포트의 동작 방식

<img width="1149" height="315" alt="image" src="https://github.com/user-attachments/assets/555f89fe-6900-4bdf-8690-085566b0fbed" />


1. 서버 : 웹 브라우저 통신을 위해 80번 포트를 열고 대기 (Listen)
2. 클라이언트 : 랜덤 포트 사용 + 서버의 80번 포트로 연결
3. 통신 : `100.100.0.100:10011` ↔ `203.11.113.50:80`

### Well-Known-Port (잘 알려진 포트)

포트 번호는 **0 ~ 65356번**까지 사용할 수 있다. 그 중에서 `0` ~ `1023`번까지 포트 번호는 주요 통신을 위한 규약에 따라 이미 정해져있다. 이렇게 규약을 통해 역할이 정해져있는 포트 번호를 **잘 알려진 포트(well-known-port)** 라고 한다.

0~1023번은 잘 사용하지 않는게 좋다.

#### 주요 포트

- **22번 (SSH, Secure Shell Protocol)** : 원격 접속을 위한 포트 번호
  - EC2 인스턴스에 연결할 때 22번 포트를 사용한다.
- **80번 (HTTP)** : HTTP로 통신을 할 때 사용
- **443번 (HTTPS)** : HTTPS로 통신을 할 때 사용

꼭 정해진 포트를 사용해서 규약을 지켜야 하는 건 아니다. 다른 포트 번호를 사용해도 무관함.

특정 서버와 HTTP 통신을 할 때 80번 대신에 3000번이나 8080번을 써도 상관없다.
